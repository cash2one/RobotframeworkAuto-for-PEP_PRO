*** Settings ***
Library           Selenium2Library
Library           re
Resource          ../组件层/住宅信息.txt
Resource          ../组件层/非住宅信息.txt
Resource          ../组件层/预估单信息.txt
Resource          ../../公共模块.txt
Resource          ../元素层/元素层.txt
Resource          ../流程层/流程层.txt
Resource          ../../变更审批/元素层/元素层.txt

*** Keywords ***
询价正确数据查询
    [Arguments]    ${查询类型}    ${输入参数}    ${路径}
    等待列表创建完毕
    ${总数据量}    询价获取页面数据总量
    log    ${查询类型}
    log    ${路径}
    ${输入参数}    根据询价查询条件选择查询类型    ${查询类型}    ${输入参数}    ${路径}
    Comment    输入流水号    ${流水号}
    询价查询按钮
    等待列表创建完毕
    ${获取报告打印第一页行数}    获取询价列表行数据    ${路径}
    ${获取报告打印第一页列数}    获取询价列表列数据
    询价查询结果校验    ${获取报告打印第一页行数}    ${查询类型}    ${输入参数}    ${路径}
    [Return]    ${总数据量}

询价错误特殊字符查询
    [Arguments]    ${查询类型}    ${输入参数}    ${路径}
    等待列表创建完毕
    ${总数据量}    询价获取页面数据总量
    log    ${查询类型}
    log    ${路径}
    ${输入参数}    根据询价查询条件选择查询类型    ${查询类型}    ${输入参数}    ${路径}
    Comment    输入流水号    ${流水号}
    ${提示语}    get text    //div[@class='tooltip tooltip-right']
    特殊字符校验提示语    ${查询类型}    ${提示语}
    [Return]    ${总数据量}

询价为空查询
    [Arguments]    ${查询类型}    ${输入参数}    ${路径}    ${总数据量}
    清空询价输入框内容    ${路径}
    等待列表创建完毕
    ${输入参数}    根据询价查询条件选择查询类型    ${查询类型}    ${输入参数}    ${路径}
    Comment    输入流水号    ${流水号}
    询价查询按钮
    等待列表创建完毕
    ${新总数}    询价获取页面数据总量
    Should Be Equal    ${新总数}    ${总数据量}

询价模糊查询
    [Arguments]    ${查询类型}    ${输入参数}    ${路径}
    清空询价输入框内容    ${路径}
    等待列表创建完毕
    ${输入参数}    根据询价查询条件选择查询类型    ${查询类型}    ${输入参数}    ${路径}
    Comment    输入流水号    ${流水号}
    询价查询按钮
    等待列表创建完毕
    ${获取报告打印第一页行数}    获取询价列表行数据    ${路径}
    ${获取报告打印第一页列数}    获取询价列表列数据
    询价查询结果校验    ${获取报告打印第一页行数}    ${查询类型}    ${输入参数}    ${路径}

询价错误查询
    [Arguments]    ${查询类型}    ${输入参数}    ${路径}    ${总数据量}
    清空询价输入框内容    ${路径}
    等待列表创建完毕
    ${输入参数}    根据询价查询条件选择查询类型    ${查询类型}    ${输入参数}    ${路径}
    Comment    输入流水号    ${流水号}
    询价查询按钮
    等待列表创建完毕
    ${新总数}    询价获取页面数据总量
    Should Be Equal    ${新总数}    0

询价超长字符查询
    [Arguments]    ${查询类型}    ${输入参数}    ${路径}    ${总数据量}
    清空询价输入框内容    ${路径}
    等待列表创建完毕
    ${输入参数}    根据询价查询条件选择查询类型    ${查询类型}    ${输入参数}    ${路径}
    Comment    输入流水号    ${流水号}
    ${获取输入参数最终值}    获取询价输入参数最终值    ${查询类型}    ${路径}
    ${n}    Get List Count    ${获取输入参数最终值}
    超长字符校验    ${查询类型}    ${n}
    清空询价输入框内容    ${路径}
